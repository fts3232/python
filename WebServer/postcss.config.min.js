var path=require("path");var envConfig=require("./env.config.js");var BUILD_PATH=envConfig.BUILD_PATH;var env=envConfig.ENV;var config={plugins:[require("autoprefixer")({}),require("postcss-at2x")()]};if(env=="production"){var sprites=require("postcss-sprites")({verbose:true,spritePath:"./",stylesheetPath:BUILD_PATH+"/css/",basePath:"./",filterBy:function(a){if(a.originalUrl.indexOf("?__sprites")===-1){return Promise.reject()}return Promise.resolve()},groupBy:function(b){var c="/sprite";var a=path.dirname(b.url);a=a.replace(/\.\.\//g,"");a=a.replace(/\.\//g,"");if(b.url.indexOf("@2x")!==-1){c="/sprite@2x"}else{if(b.url.indexOf("@3x")!==-1){c="/sprite@3x"}}return Promise.resolve(a+c)},hooks:{onSaveSpritesheet:function(b,c){var a=c.groups.concat(c.extension);return path.join(b.spritePath,a.join("."))}}});config.plugins.push(sprites)}module.exports=config;